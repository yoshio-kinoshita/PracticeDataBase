# SQLとリレーションモデル
## そもそもSQLって
SQLはリレーショナルデータベース(RDB)に対して問い合わせを行う言語。
### リレーショナルモデルを知らなくてもSQLはかける？
かけるが、リレーショナルモデルは必須科目
### RDBはリレーショナルモデルを正しく実践してこそ真価を発揮する
リレーショナルモデルに沿ってSQLを使う必要がある。
## リレーショナルモデル
もっとも重要な概念はリレーション。
### リレーションの定義
よくある間違い：テーブル同士の関係。 
リレーションに相当するのはテーブル。
リレーションの定義は見出しと本体のペアで構成される。

### 集合とリレーションモデル
#### 集合とは
物の集まりを表現する概念。集合の含まれるここの物を要素や元(element)と呼ぶ

#### リレーションモデルとNULL
リレーションにNULLを含めることができない。

#### 有限集合と無限集合
リレーションモデルが扱うのは有限集合のみ

### リレーションの演算
クエリ(問い合わせ)。リレーションの本質は集合。演算は集合論をベースとしたもの。

* 制限: where
* 射影：select column_name
* 拡張：列名追加
* 属性名変更
* 和
* 積
* 差
* 直積
* 結合

### クロージャという性質
入力と出力が同じデータ構造を持つ性質をクロージャという。
リレーションの演算だけで、複雑な演算が可能な点が、リレーショナルモデルの真骨頂。
### リレーショナルモデルにおけるデータ型
データ型：個々の属性がどのような値を持つか
## SQLにおけるリレーション操作
### SELECTの基本形
~~~
1：select カラムリスト
2：from テーブルのリスト
3：where 検索条件
~~~
SELECTの評価される順番。
* 2：直積
* 1：制限
* 3：射影
### INSERT
リレーションモデルに更新という概念は存在しない。


テーブルtのRelvar：R
新しく挿入する行：T
R:=R ∪ {T}


和集合

### DELETE
差集合

* R:= R - {T}

### UPDATE
元のリレーション：R
where句の条件に該当するリレーション：T1
T1に修正を加えたリレーション：T2

* R:= (R - {T1})　∪ {T2}

## SQLにあってリレーションモデルにないもの
### 要素の重複
集合には重複がないため、一意制約は必要
### 要素間の順序
集合に要素間の順序がない。
SQLで行やカラムの位置を意識したプログラムは書かない。
### リレーションの更新
リレーションは値であるため更新できない。
### トランザクション
SQLの仕様の一部。
### ストアドプロシージャ
### NULL
集合にはNULLという概念はない。
## まとめ

